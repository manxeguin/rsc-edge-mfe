{"version":3,"file":"main.62e3a246097cb40fd277.js","mappings":";4gBACA,gnGAAAA,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XAEA,SAASC,IACP,OAAO,IAAIC,GACb,CAEO,SAASC,IACd,OAAO,SAAiBC,EAAKC,GAC3BC,aAAaL,EAAqB,IAAIC,IAAI,CAAC,CAACE,EAAKC,KACnD,CACF,CAEA,IAAME,EAAiB,eAZvB,EAYuB,GAZvB,EAYuB,UAAG,WAAOC,GAAW,yEAEN,OAA9BC,EAAiBC,MAAM,QAAO,UACfC,EAAAA,EAAAA,iBAAgBF,GAAe,OAAxC,OAANG,EAAS,EAAH,uBACLA,GAAM,0CAhBf,+KAiBC,gBALsB,sCAOhB,SAASC,EAAkBC,GAChC,QAAoD,MAAdC,EAAAA,EAAAA,UAAS,QAAK,o5BAA7CC,EAAQ,KAAEC,EAAiB,KAC5Bb,EAAMc,KAAKC,UAAUL,GAQ3B,OANAM,EAAAA,EAAAA,YAAU,WACRb,EAAkBH,GAAKiB,MAAK,SAACC,GAC3BL,EAAkBK,EACpB,GACF,GAAG,CAAClB,IAEGY,CACT","sources":["webpack://rsc-mfe/./src/Cache.client.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { createFromFetch } from \"react-server-dom-webpack/client\";\n\nfunction createResponseCache() {\n  return new Map();\n}\n\nexport function useRefresh() {\n  return function refresh(key, seededResponse) {\n    refreshCache(createResponseCache, new Map([[key, seededResponse]]));\n  };\n}\n\nconst getFlightResponse = async (locationKey) => {\n  //const flightResponse = fetch(\"/react?location=\" + encodeURIComponent(locationKey));\n  const flightResponse = fetch(\"/rsc\");\n  const flight = await createFromFetch(flightResponse);\n  return flight;\n};\n\nexport function useServerResponse(location) {\n  const [Response, setServerResponse] = useState(null);\n  const key = JSON.stringify(location);\n\n  useEffect(() => {\n    getFlightResponse(key).then((res) => {\n      setServerResponse(res);\n    });\n  }, [key]);\n\n  return Response;\n}\n"],"names":["i","createResponseCache","Map","useRefresh","key","seededResponse","refreshCache","getFlightResponse","locationKey","flightResponse","fetch","createFromFetch","flight","useServerResponse","location","useState","Response","setServerResponse","JSON","stringify","useEffect","then","res"],"sourceRoot":""}